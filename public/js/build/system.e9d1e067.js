import{n as r,m as v}from"./app.3d81bfbf.js";import{D as $}from"./index.8fb9f3fd.js";import{C as h,T as D}from"./CheckinExport.e995cbea.js";import"./UserSelect.6a5dfe83.js";var b=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formDatum",attrs:{model:t.formDatum,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u5E10\u53F7\u76F8\u5173")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u5141\u8BB8\u6CE8\u518C"),prop:"reg"}},[a("RadioGroup",{model:{value:t.formDatum.reg,callback:function(e){t.$set(t.formDatum,"reg",e)},expression:"formDatum.reg"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5141\u8BB8")))]),a("Radio",{attrs:{label:"invite"}},[t._v(t._s(t.$L("\u9080\u8BF7\u7801")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u7981\u6B62")))])],1),t.formDatum.reg=="open"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5141\u8BB8\uFF1A\u5F00\u653E\u6CE8\u518C\u529F\u80FD\u3002")))]):t.formDatum.reg=="invite"?[a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u9080\u8BF7\u7801\uFF1A\u6CE8\u518C\u65F6\u9700\u586B\u5199\u4E0B\u65B9\u9080\u8BF7\u7801\u3002")))]),a("Input",{staticStyle:{width:"200px","margin-top":"6px"},model:{value:t.formDatum.reg_invite,callback:function(e){t.$set(t.formDatum,"reg_invite",e)},expression:"formDatum.reg_invite"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(t._s(t.$L("\u9080\u8BF7\u7801")))])])]:t._e()],2),["open","invite"].includes(t.formDatum.reg)?a("FormItem",{attrs:{label:t.$L("\u6CE8\u518C\u8EAB\u4EFD"),prop:"reg_identity"}},[a("RadioGroup",{model:{value:t.formDatum.reg_identity,callback:function(e){t.$set(t.formDatum,"reg_identity",e)},expression:"formDatum.reg_identity"}},[a("Radio",{attrs:{label:"normal"}},[t._v(t._s(t.$L("\u6B63\u5E38\u5E10\u53F7")))]),a("Radio",{attrs:{label:"temp"}},[t._v(t._s(t.$L("\u4E34\u65F6\u5E10\u53F7")))])],1),a("div",{staticClass:"form-tip form-list"},[a("p",[t._v(t._s(t.$L("\u4E34\u65F6\u5E10\u53F7"))+"\uFF1A")]),a("ol",[a("li",[t._v(t._s(t.$L("\u7981\u6B62\u67E5\u770B\u5171\u4EAB\u6240\u6709\u4EBA\u7684\u6587\u4EF6\u3002")))]),a("li",[t._v(t._s(t.$L("\u7981\u6B62\u53D1\u8D77\u4F1A\u8BDD\u3002")))]),a("li",[t._v(t._s(t.$L("\u7981\u6B62\u521B\u5EFA\u7FA4\u804A\u3002")))]),a("li",[t._v(t._s(t.$L("\u7981\u6B62\u62E8\u6253\u7535\u8BDD\u3002")))])])])],1):t._e(),a("FormItem",{attrs:{label:t.$L("\u767B\u5F55\u9A8C\u8BC1\u7801"),prop:"loginCode"}},[a("RadioGroup",{model:{value:t.formDatum.login_code,callback:function(e){t.$set(t.formDatum,"login_code",e)},expression:"formDatum.login_code"}},[a("Radio",{attrs:{label:"auto"}},[t._v(t._s(t.$L("\u81EA\u52A8")))]),a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),t.formDatum.login_code=="auto"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u81EA\u52A8\uFF1A\u5BC6\u7801\u8F93\u5165\u9519\u8BEF\u540E\u5FC5\u987B\u6DFB\u52A0\u9A8C\u8BC1\u7801\u3002")))]):t.formDatum.login_code=="open"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5F00\u542F\uFF1A\u6BCF\u6B21\u767B\u5F55\u90FD\u9700\u8981\u56FE\u5F62\u9A8C\u8BC1\u7801\u3002")))]):t.formDatum.login_code=="close"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5173\u95ED\uFF1A\u4E0D\u9700\u8981\u8F93\u5165\u56FE\u5F62\u9A8C\u8BC1\u3002")))]):t._e()],1),a("FormItem",{attrs:{label:t.$L("\u5BC6\u7801\u7B56\u7565"),prop:"passwordPolicy"}},[a("RadioGroup",{model:{value:t.formDatum.password_policy,callback:function(e){t.$set(t.formDatum,"password_policy",e)},expression:"formDatum.password_policy"}},[a("Radio",{attrs:{label:"simple"}},[t._v(t._s(t.$L("\u7B80\u5355")))]),a("Radio",{attrs:{label:"complex"}},[t._v(t._s(t.$L("\u590D\u6742")))])],1),t.formDatum.password_policy=="simple"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u7B80\u5355\uFF1A\u5927\u4E8E\u6216\u7B49\u4E8E6\u4E2A\u5B57\u7B26\u3002")))]):t.formDatum.password_policy=="complex"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u590D\u6742\uFF1A\u5927\u4E8E\u6216\u7B49\u4E8E6\u4E2A\u5B57\u7B26\uFF0C\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u5927\u5C0F\u5199\u6216\u8005\u7279\u6B8A\u5B57\u7B26\u3002")))]):t._e()],1)],1)]),a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u9879\u76EE\u76F8\u5173")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u9080\u8BF7\u9879\u76EE"),prop:"projectInvite"}},[a("RadioGroup",{model:{value:t.formDatum.project_invite,callback:function(e){t.$set(t.formDatum,"project_invite",e)},expression:"formDatum.project_invite"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),t.formDatum.project_invite=="open"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5F00\u542F\uFF1A\u9879\u76EE\u7BA1\u7406\u5458\u53EF\u751F\u6210\u94FE\u63A5\u9080\u8BF7\u6210\u5458\u52A0\u5165\u9879\u76EE\u3002")))]):t._e()],1),a("FormItem",{attrs:{label:t.$L("\u81EA\u52A8\u5F52\u6863\u4EFB\u52A1"),prop:"autoArchived"}},[a("RadioGroup",{attrs:{value:t.formDatum.auto_archived},on:{"on-change":t.formArchived}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u4EFB\u52A1\u5B8C\u6210\u540E\u81EA\u52A8\u5F52\u6863\u3002")))]),t.formDatum.auto_archived=="open"?a("ETooltip",{attrs:{placement:"right",disabled:t.$isEEUiApp||t.windowTouch}},[a("div",{staticClass:"setting-auto-day"},[a("Input",{attrs:{type:"number"},model:{value:t.formDatum.archived_day,callback:function(e){t.$set(t.formDatum,"archived_day",e)},expression:"formDatum.archived_day"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v(t._s(t.$L("\u5929")))])])],1),a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$L("\u4EFB\u52A1\u5B8C\u6210 (*) \u5929\u540E\u81EA\u52A8\u5F52\u6863\u3002",t.formDatum.archived_day)))])]):t._e()],1)],1)]),a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u6D88\u606F\u76F8\u5173")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u5168\u5458\u7FA4\u7EC4\u7981\u8A00"),prop:"allGroupMute"}},[a("RadioGroup",{model:{value:t.formDatum.all_group_mute,callback:function(e){t.$set(t.formDatum,"all_group_mute",e)},expression:"formDatum.all_group_mute"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u653E")))]),a("Radio",{attrs:{label:"user"}},[t._v(t._s(t.$L("\u6210\u5458\u7981\u8A00")))]),a("Radio",{attrs:{label:"all"}},[t._v(t._s(t.$L("\u5168\u90E8\u7981\u8A00")))])],1),t.formDatum.all_group_mute=="open"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5F00\u653E\uFF1A\u6240\u6709\u4EBA\u90FD\u53EF\u4EE5\u53D1\u8A00\u3002")))]):t.formDatum.all_group_mute=="user"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u6210\u5458\u7981\u8A00\uFF1A\u4EC5\u7BA1\u7406\u5458\u53EF\u4EE5\u53D1\u8A00\u3002")))]):t.formDatum.all_group_mute=="all"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5168\u90E8\u7981\u8A00\uFF1A\u6240\u6709\u4EBA\u90FD\u7981\u6B62\u53D1\u8A00\u3002")))]):t._e()],1),a("FormItem",{attrs:{label:t.$L("\u81EA\u52A8\u8FDB\u5165\u5168\u5458\u7FA4"),prop:"allGroupAutoin"}},[a("RadioGroup",{model:{value:t.formDatum.all_group_autoin,callback:function(e){t.$set(t.formDatum,"all_group_autoin",e)},expression:"formDatum.all_group_autoin"}},[a("Radio",{attrs:{label:"yes"}},[t._v(t._s(t.$L("\u81EA\u52A8")))]),a("Radio",{attrs:{label:"no"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),t.formDatum.all_group_autoin=="yes"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u81EA\u52A8\uFF1A\u6CE8\u518C\u6210\u529F\u540E\u81EA\u52A8\u8FDB\u5165\u5168\u5458\u7FA4\u3002")))]):t.formDatum.all_group_autoin=="no"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5173\u95ED\uFF1A\u5176\u4ED6\u6210\u5458\u901A\u8FC7@\u9080\u8BF7\u8FDB\u5165\u3002")))]):t._e()],1),a("FormItem",{attrs:{label:t.$L("\u804A\u5929\u8D44\u6599"),prop:"chatInformation"}},[a("RadioGroup",{model:{value:t.formDatum.chat_information,callback:function(e){t.$set(t.formDatum,"chat_information",e)},expression:"formDatum.chat_information"}},[a("Radio",{attrs:{label:"optional"}},[t._v(t._s(t.$L("\u53EF\u9009")))]),a("Radio",{attrs:{label:"required"}},[t._v(t._s(t.$L("\u5FC5\u586B")))])],1),t.formDatum.chat_information=="required"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5FC5\u586B\uFF1A\u53D1\u9001\u804A\u5929\u5185\u5BB9\u524D\u5FC5\u987B\u8BBE\u7F6E\u6635\u79F0\u3001\u7535\u8BDD\u3002")))]):a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5982\u679C\u5FC5\u586B\uFF0C\u53D1\u9001\u804A\u5929\u524D\u5FC5\u987B\u8BBE\u7F6E\u6635\u79F0\u3001\u7535\u8BDD\u3002")))])],1),a("FormItem",{attrs:{label:t.$L("\u533F\u540D\u6D88\u606F"),prop:"anonMessage"}},[a("RadioGroup",{model:{value:t.formDatum.anon_message,callback:function(e){t.$set(t.formDatum,"anon_message",e)},expression:"formDatum.anon_message"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),t.formDatum.anon_message=="open"?a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5141\u8BB8\u533F\u540D\u53D1\u9001\u6D88\u606F\u7ED9\u5176\u4ED6\u6210\u5458\u3002")))]):a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u7981\u6B62\u533F\u540D\u53D1\u9001\u6D88\u606F\u3002")))])],1)],1)]),a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u5176\u4ED6\u8BBE\u7F6E")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u56FE\u7247\u4F18\u5316"),prop:"image_compress"}},[a("RadioGroup",{model:{value:t.formDatum.image_compress,callback:function(e){t.$set(t.formDatum,"image_compress",e)},expression:"formDatum.image_compress"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u6570\u7801\u76F8\u673A4M\u7684\u56FE\u7247\uFF0C\u4F18\u5316\u540E\u4EC5\u6709700KB\u5DE6\u53F3\uFF0C\u800C\u4E14\u8089\u773C\u57FA\u672C\u770B\u4E0D\u51FA\u533A\u522B\u3002")))])],1),a("FormItem",{attrs:{label:t.$L("\u4FDD\u5B58\u7F51\u7EDC\u56FE\u7247"),prop:"image_save_local"}},[a("RadioGroup",{model:{value:t.formDatum.image_save_local,callback:function(e){t.$set(t.formDatum,"image_save_local",e)},expression:"formDatum.image_save_local"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u662F\u5426\u5C06\u6D88\u606F\u4E2D\u7684\u7F51\u7EDC\u56FE\u7247\u4FDD\u5B58\u5230\u672C\u5730\u670D\u52A1\u5668\u3002")))])],1),t.$A.isDooServer()?a("FormItem",{attrs:{label:t.$L("\u662F\u5426\u542F\u52A8\u9996\u9875"),prop:"startHome"}},[a("RadioGroup",{model:{value:t.formDatum.start_home,callback:function(e){t.$set(t.formDatum,"start_home",e)},expression:"formDatum.start_home"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u4EC5\u652F\u6301\u7F51\u9875\u7248\u3002")))]),t.formDatum.start_home=="open"?a("Input",{staticStyle:{margin:"8px 0 -8px"},attrs:{type:"textarea",rows:2,autosize:{minRows:2,maxRows:8},placeholder:t.$L("\u9996\u9875\u5E95\u90E8\uFF1A\u9996\u9875\u5E95\u90E8\u7F51\u7AD9\u5907\u6848\u53F7\u7B49\u4FE1\u606F")},model:{value:t.formDatum.home_footer,callback:function(e){t.$set(t.formDatum,"home_footer",e)},expression:"formDatum.home_footer"}}):t._e()],1):t._e()],1)])]),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},g=[];const L={name:"SystemSetting",data(){return{loadIng:0,formDatum:{}}},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formDatum.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formDatum=$A.cloneJSON(this.formDatum_bak)},formArchived(t){this.formDatum={...this.formDatum,auto_archived:t}},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting?type="+(t?"save":"all"),data:this.formDatum}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formDatum=s,this.formDatum_bak=$A.cloneJSON(this.formDatum)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})}}},i={};var y=r(L,b,g,!1,x,null,null,null);function x(t){for(let s in i)this[s]=i[s]}var k=function(){return y.exports}(),I=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formDatum",attrs:{"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("Row",{staticClass:"setting-color color-label-box"},[a("Col",{attrs:{span:"12"}},[t._v(t._s(t.$L("\u540D\u79F0")))]),a("Col",{attrs:{span:"4"}},[a("ETooltip",{attrs:{content:t.$L("\u6570\u503C\u8D8A\u5C0F\u7EA7\u522B\u8D8A\u9AD8"),"max-width":"auto",placement:"top",transfer:""}},[a("div",[a("Icon",{staticClass:"information",attrs:{type:"ios-information-circle-outline"}}),t._v(" "+t._s(t.$L("\u7EA7\u522B")))],1)])],1),a("Col",{attrs:{span:"4"}},[a("ETooltip",{attrs:{content:t.$L("\u4EFB\u52A1\u5B8C\u6210\u65F6\u95F4"),"max-width":"auto",placement:"top",transfer:""}},[a("div",[a("Icon",{staticClass:"information",attrs:{type:"ios-information-circle-outline"}}),t._v(" "+t._s(t.$L("\u5929\u6570")))],1)])],1),a("Col",{attrs:{span:"4"}},[t._v(t._s(t.$L("\u989C\u8272")))])],1),t._l(t.formDatum,function(e,l){return a("Row",{key:l,staticClass:"setting-color"},[a("Col",{attrs:{span:"12"}},[a("Input",{attrs:{maxlength:20,placeholder:t.$L("\u8BF7\u8F93\u5165\u540D\u79F0"),clearable:""},on:{"on-clear":function(o){return t.delDatum(l)}},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"item.name"}})],1),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{type:"number"},model:{value:e.priority,callback:function(o){t.$set(e,"priority",o)},expression:"item.priority"}})],1),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{type:"number"},model:{value:e.days,callback:function(o){t.$set(e,"days",o)},expression:"item.days"}})],1),a("Col",{attrs:{span:"4"}},[a("ColorPicker",{attrs:{recommend:"",transfer:""},model:{value:e.color,callback:function(o){t.$set(e,"color",o)},expression:"item.color"}})],1)],1)}),a("Button",{attrs:{type:"default",icon:"md-add"},on:{click:t.addDatum}},[t._v(t._s(t.$L("\u6DFB\u52A0\u4F18\u5148\u7EA7")))])],2),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},S=[];const C={name:"SystemTaskPriority",data(){return{loadIng:0,formDatum:[],nullDatum:{name:"",priority:1,days:1,color:"#84C56A"}}},mounted(){this.systemSetting()},computed:{...v(["taskPriority"])},watch:{taskPriority:{handler(t){this.formDatum=$A.cloneJSON(t),this.formDatum.length===0&&this.addDatum()},immediate:!0}},methods:{submitForm(){this.$refs.formDatum.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formDatum=$A.cloneJSON(this.taskPriority)},addDatum(){this.formDatum.push($A.cloneJSON(this.nullDatum))},delDatum(t){this.formDatum.splice(t,1),this.formDatum.length===0&&this.addDatum()},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/priority?type="+(t?"save":"get"),method:"post",data:{list:this.formDatum}}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.$store.state.taskPriority=$A.cloneJSON(s)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})}}},n={};var F=r(C,I,S,!1,R,null,null,null);function R(t){for(let s in n)this[s]=n[s]}var A=function(){return F.exports}(),w=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formDatum",attrs:{"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("Row",{staticClass:"setting-template"},[a("Col",{attrs:{span:"8"}},[t._v(t._s(t.$L("\u540D\u79F0")))]),a("Col",{attrs:{span:"16"}},[t._v(t._s(t.$L("\u9879\u76EE\u6A21\u677F")))])],1),t._l(t.formDatum,function(e,l){return a("Row",{key:l,staticClass:"setting-template"},[a("Col",{attrs:{span:"8"}},[a("Input",{attrs:{maxlength:20,placeholder:t.$L("\u8BF7\u8F93\u5165\u540D\u79F0"),clearable:""},on:{"on-clear":function(o){return t.delDatum(l)}},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"item.name"}})],1),a("Col",{attrs:{span:"16"}},[a("TagInput",{model:{value:e.columns,callback:function(o){t.$set(e,"columns",o)},expression:"item.columns"}})],1)],1)}),a("Button",{attrs:{type:"default",icon:"md-add"},on:{click:t.addDatum}},[t._v(t._s(t.$L("\u6DFB\u52A0\u6A21\u677F")))])],2),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},O=[];const T={name:"SystemColumnTemplate",data(){return{loadIng:0,formDatum:[],nullDatum:{name:"",columns:""}}},mounted(){this.systemSetting()},computed:{...v(["columnTemplate"])},watch:{columnTemplate:{handler(t){this.formDatum=$A.cloneJSON(t),this.formDatum.length===0&&this.addDatum()},immediate:!0}},methods:{submitForm(){this.$refs.formDatum.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formDatum=$A.cloneJSON(this.columnTemplate)},addDatum(){this.formDatum.push($A.cloneJSON(this.nullDatum))},delDatum(t){this.formDatum.splice(t,1),this.formDatum.length===0&&this.addDatum()},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/column/template?type="+(t?"save":"get"),method:"post",data:{list:this.formDatum}}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.$store.state.columnTemplate=$A.cloneJSON(s).map(a=>($A.isArray(a.columns)&&(a.columns=a.columns.join(",")),a))}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})}}},m={};var P=r(T,w,O,!1,E,null,null,null);function E(t){for(let s in m)this[s]=m[s]}var N=function(){return P.exports}(),G=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleData,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u90AE\u7BB1\u670D\u52A1\u5668\u8BBE\u7F6E")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("SMTP\u670D\u52A1\u5668"),prop:"smtp_server"}},[a("Input",{model:{value:t.formData.smtp_server,callback:function(e){t.$set(t.formData,"smtp_server",e)},expression:"formData.smtp_server"}})],1),a("FormItem",{attrs:{label:t.$L("\u7AEF\u53E3"),prop:"port"}},[a("Input",{attrs:{maxlength:20},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",e)},expression:"formData.port"}})],1),a("FormItem",{attrs:{label:t.$L("\u5E10\u53F7"),prop:"account"}},[a("Input",{attrs:{maxlength:128},model:{value:t.formData.account,callback:function(e){t.$set(t.formData,"account",e)},expression:"formData.account"}})],1),a("FormItem",{attrs:{label:t.$L("\u5BC6\u7801"),prop:"password"}},[a("Input",{attrs:{maxlength:128,type:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("FormItem",[a("Button",{on:{click:t.checkEmailSend}},[t._v(t._s(t.$L("\u90AE\u4EF6\u53D1\u9001\u6D4B\u8BD5")))])],1)],1)]),a("div",{staticClass:"block-setting-placeholder"}),a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u90AE\u4EF6\u901A\u77E5\u8BBE\u7F6E")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u5F00\u542F\u6CE8\u518C\u9A8C\u8BC1"),prop:"reg_verify"}},[a("RadioGroup",{model:{value:t.formData.reg_verify,callback:function(e){t.$set(t.formData,"reg_verify",e)},expression:"formData.reg_verify"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),t.formData.reg_verify=="open"?a("div",{staticClass:"form-tip"},[t._v(" "+t._s(t.$L("\u5F00\u542F\u540E\uFF1A"))),a("br"),t._v(" \u2460 "+t._s(t.$L("\u5E10\u53F7\u9700\u9A8C\u8BC1\u901A\u8FC7\u624D\u53EF\u767B\u5F55"))),a("br"),t._v(" \u2461 "+t._s(t.$L("\u4FEE\u6539\u90AE\u7BB1\u548C\u5220\u9664\u5E10\u53F7\u9700\u8981\u90AE\u7BB1\u9A8C\u8BC1\u7801"))+" ")]):t._e()],1),a("FormItem",{attrs:{label:t.$L("\u6D88\u606F\u63D0\u9192"),prop:"notice_msg"}},[a("RadioGroup",{model:{value:t.formData.notice_msg,callback:function(e){t.$set(t.formData,"notice_msg",e)},expression:"formData.notice_msg"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),t.formData.notice_msg=="open"?a("Form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{attrs:{label:t.$L("\u672A\u8BFB\u4E2A\u4EBA\u6D88\u606F"),prop:"msg_unread_user_minute"}},[a("div",{staticClass:"input-number-box"},[a("InputNumber",{attrs:{min:0,step:1},model:{value:t.formData.msg_unread_user_minute,callback:function(e){t.$set(t.formData,"msg_unread_user_minute",e)},expression:"formData.msg_unread_user_minute"}}),a("label",[t._v(t._s(t.$L("\u5206\u949F"))+"(m)")])],1)]),a("FormItem",{attrs:{label:t.$L("\u672A\u8BFB\u7FA4\u804A\u6D88\u606F"),prop:"msg_unread_group_minute"}},[a("div",{staticClass:"input-number-box"},[a("InputNumber",{attrs:{min:0,step:1},model:{value:t.formData.msg_unread_group_minute,callback:function(e){t.$set(t.formData,"msg_unread_group_minute",e)},expression:"formData.msg_unread_group_minute"}}),a("label",[t._v(t._s(t.$L("\u5206\u949F"))+"(m)")])],1)]),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u586B\u5199-1\u5219\u4E0D\u901A\u77E5\uFF0C\u8BEF\u5DEE\xB110\u5206\u949F")))])],1):t._e()],1)],1)]),a("div",{staticClass:"block-setting-placeholder"}),a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u5FFD\u7565\u90AE\u7BB1\u5730\u5740")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u5FFD\u7565\u90AE\u7BB1"),prop:"ignore_addr"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:50}},model:{value:t.formData.ignore_addr,callback:function(e){t.$set(t.formData,"ignore_addr",e)},expression:"formData.ignore_addr"}}),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u4E0D\u4F1A\u5411\u5FFD\u7565\u7684\u90AE\u7BB1\u5730\u5740\u53D1\u9001\u90AE\u4EF6\uFF0C\u53EF\u4F7F\u7528\u6362\u884C\u5206\u5272\u591A\u4E2A\u5730\u5740\u3002")))])],1)],1)])]),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},B=[];const M={name:"SystemEmailSetting",data(){return{loadIng:0,formData:{smtp_server:"",port:"",account:"",password:"",reg_verify:"colse",notice_msg:"open",msg_unread_user_minute:-1,msg_unread_group_minute:-1,ignore_addr:""},ruleData:{}}},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formData.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formData=$A.cloneJSON(this.formDatum_bak)},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting/email?type="+(t?"save":"all"),data:this.formData}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formData=s,this.formDatum_bak=$A.cloneJSON(this.formData)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})},checkEmailSend(){$A.modalInput({title:"\u6D4B\u8BD5\u90AE\u4EF6",placeholder:"\u8BF7\u8F93\u5165\u6536\u4EF6\u4EBA\u5730\u5740",onOk:t=>t?$A.isEmail(t)?new Promise((s,a)=>{this.$store.dispatch("call",{url:"system/email/check",data:Object.assign(this.formData,{to:t})}).then(({msg:e})=>{s(e)}).catch(({msg:e})=>{a(e)})}):"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6536\u4EF6\u4EBA\u5730\u5740":"\u8BF7\u8F93\u5165\u6536\u4EF6\u4EBA\u5730\u5740"})}}},c={};var J=r(M,G,B,!1,j,null,null,null);function j(t){for(let s in c)this[s]=c[s]}var U=function(){return J.exports}(),z=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleData,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u53CB\u76DF\u63A8\u9001")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u5F00\u542F\u63A8\u9001"),prop:"push"}},[a("RadioGroup",{model:{value:t.formData.push,callback:function(e){t.$set(t.formData,"push",e)},expression:"formData.push"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1)],1),t.formData.push==="open"?[a("Divider",{attrs:{orientation:"left"}},[t._v("iOS "+t._s(t.$L("\u53C2\u6570\u914D\u7F6E")))]),a("FormItem",{attrs:{label:"Appkey",prop:"ios_appkey"}},[a("Input",{attrs:{maxlength:255},model:{value:t.formData.ios_key,callback:function(e){t.$set(t.formData,"ios_key",e)},expression:"formData.ios_key"}})],1),a("FormItem",{attrs:{label:"App Master Secret",prop:"secret"}},[a("Input",{attrs:{maxlength:255,type:"password"},model:{value:t.formData.ios_secret,callback:function(e){t.$set(t.formData,"ios_secret",e)},expression:"formData.ios_secret"}})],1),a("Divider",{attrs:{orientation:"left"}},[t._v("Android "+t._s(t.$L("\u53C2\u6570\u914D\u7F6E")))]),a("FormItem",{attrs:{label:"Appkey",prop:"android_appkey"}},[a("Input",{attrs:{maxlength:255},model:{value:t.formData.android_key,callback:function(e){t.$set(t.formData,"android_key",e)},expression:"formData.android_key"}})],1),a("FormItem",{attrs:{label:"App Master Secret",prop:"secret"}},[a("Input",{attrs:{maxlength:255,type:"password"},model:{value:t.formData.android_secret,callback:function(e){t.$set(t.formData,"android_secret",e)},expression:"formData.android_secret"}})],1)]:t._e()],2)])]),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},H=[];const q={name:"SystemAppPush",data(){return{loadIng:0,formData:{push:"",ios_key:"",ios_secret:"",android_key:"",android_secret:""},ruleData:{}}},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formData.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formData=$A.cloneJSON(this.formDatum_bak)},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting/apppush?type="+(t?"save":"all"),data:this.formData}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formData=s,this.formDatum_bak=$A.cloneJSON(this.formData)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})}}},u={};var K=r(q,z,H,!1,W,null,null,null);function W(t){for(let s in u)this[s]=u[s]}var Q=function(){return K.exports}(),V=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleData,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("AgoraIO")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u4F1A\u8BAE\u529F\u80FD"),prop:"open"}},[a("RadioGroup",{model:{value:t.formData.open,callback:function(e){t.$set(t.formData,"open",e)},expression:"formData.open"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1)],1),t.formData.open==="open"?[a("FormItem",{attrs:{label:"App ID ",prop:"appid"}},[a("Input",{attrs:{maxlength:255},model:{value:t.formData.appid,callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),a("FormItem",{attrs:{label:"App certificate",prop:"app_certificate"}},[a("Input",{attrs:{maxlength:255,type:"password"},model:{value:t.formData.app_certificate,callback:function(e){t.$set(t.formData,"app_certificate",e)},expression:"formData.app_certificate"}})],1)]:t._e()],2)])]),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},X=[];const Y={name:"SystemMeeting",data(){return{loadIng:0,formData:{open:"",appid:"",app_certificate:""},ruleData:{}}},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formData.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formData=$A.cloneJSON(this.formDatum_bak)},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting/meeting?type="+(t?"save":"all"),data:this.formData}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formData=s,this.formDatum_bak=$A.cloneJSON(this.formData)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})}}},_={};var Z=r(Y,V,X,!1,tt,null,null,null);function tt(t){for(let s in _)this[s]=_[s]}var at=function(){return Z.exports}(),et=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleData,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u7B7E\u5230\u8BBE\u7F6E")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u529F\u80FD\u5F00\u542F"),prop:"open"}},[a("RadioGroup",{model:{value:t.formData.open,callback:function(e){t.$set(t.formData,"open",e)},expression:"formData.open"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"export-data"},[a("p",{on:{click:function(e){t.allUserShow=!0}}},[t._v(t._s(t.$L("\u7BA1\u7406\u6210\u5458MAC\u5730\u5740")))]),a("p",{on:{click:function(e){t.exportShow=!0}}},[t._v(t._s(t.$L("\u5BFC\u51FA\u7B7E\u5230\u6570\u636E")))])])],1),t.formData.open==="open"?[a("FormItem",{attrs:{label:t.$L("\u7B7E\u5230\u65F6\u95F4"),prop:"time"}},[a("TimePicker",{attrs:{type:"timerange",format:"HH:mm",placeholder:t.$L("\u8BF7\u9009\u62E9\u7B7E\u5230\u65F6\u95F4")},model:{value:t.formData.time,callback:function(e){t.$set(t.formData,"time",e)},expression:"formData.time"}}),a("Form",{nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{attrs:{label:t.$L("\u6700\u65E9\u53EF\u63D0\u524D"),prop:"advance"}},[a("div",{staticClass:"input-number-box"},[a("InputNumber",{attrs:{min:0,step:1},model:{value:t.formData.advance,callback:function(e){t.$set(t.formData,"advance",e)},expression:"formData.advance"}}),a("label",[t._v(t._s(t.$L("\u5206\u949F")))])],1)]),a("FormItem",{attrs:{label:t.$L("\u6700\u665A\u53EF\u5EF6\u540E"),prop:"delay"}},[a("div",{staticClass:"input-number-box"},[a("InputNumber",{attrs:{min:0,step:1},model:{value:t.formData.delay,callback:function(e){t.$set(t.formData,"delay",e)},expression:"formData.delay"}}),a("label",[t._v(t._s(t.$L("\u5206\u949F")))])],1)]),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u7B7E\u5230\u524D\u540E\u65F6\u95F4\u6536\u5230\u6D88\u606F\u901A\u77E5")))]),a("FormItem",{attrs:{label:t.$L("\u7B7E\u5230\u6253\u5361\u63D0\u9192"),prop:"remindin"}},[a("div",{staticClass:"input-number-box"},[a("InputNumber",{attrs:{min:0,step:1},model:{value:t.formData.remindin,callback:function(e){t.$set(t.formData,"remindin",e)},expression:"formData.remindin"}}),a("label",[t._v(t._s(t.$L("\u5206\u949F")))])],1)]),a("FormItem",{attrs:{label:t.$L("\u7B7E\u5230\u7F3A\u5361\u63D0\u9192"),prop:"remindexceed"}},[a("div",{staticClass:"input-number-box"},[a("InputNumber",{attrs:{min:0,step:1},model:{value:t.formData.remindexceed,callback:function(e){t.$set(t.formData,"remindexceed",e)},expression:"formData.remindexceed"}}),a("label",[t._v(t._s(t.$L("\u5206\u949F")))])],1)]),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u7B7E\u5230\u63D0\u9192\u5BF9\u8C61\uFF1A3\u5929\u5185\u6709\u7B7E\u5230\u7684\u6210\u5458\uFF08\u6CD5\u5B9A\u5DE5\u4F5C\u65E5\uFF09")))])],1)],1),a("FormItem",{attrs:{label:t.$L("\u5141\u8BB8\u4FEE\u6539"),prop:"edit"}},[a("RadioGroup",{model:{value:t.formData.edit,callback:function(e){t.$set(t.formData,"edit",e)},expression:"formData.edit"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5141\u8BB8")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u7981\u6B62")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5141\u8BB8\u6210\u5458\u81EA\u5DF1\u4FEE\u6539MAC\u5730\u5740")))])],1)]:t._e()],2)]),t.formData.open==="open"?[a("div",{staticClass:"block-setting-placeholder"}),a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("\u81EA\u52A8\u7B7E\u5230")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u5B89\u88C5\u8BF4\u660E"),prop:"explain"}},[a("p",[t._v("1. "+t._s(t.$L("\u81EA\u52A8\u7B7E\u5230\u5EF6\u8FDF\u65F6\u957F\u4E3A\xB11\u5206\u949F\u3002")))]),a("p",[t._v("2. "+t._s(t.$L("\u8BBE\u5907\u8FDE\u63A5\u4E0A\u6307\u5B9A\u8DEF\u7531\u5668\uFF08WiFi\uFF09\u540E\u81EA\u52A8\u7B7E\u5230\u3002")))]),a("p",[t._v("3. "+t._s(t.$L("\u4EC5\u652F\u6301Openwrt\u7CFB\u7EDF\u7684\u8DEF\u7531\u5668\u3002")))]),a("p",[t._v("4. "+t._s(t.$L("\u5173\u95ED\u7B7E\u5230\u529F\u80FD\u518D\u5F00\u542F\u9700\u8981\u91CD\u65B0\u5B89\u88C5\u3002")))]),a("p",[t._v("5. "+t._s(t.$L("\u8FDB\u5165\u8DEF\u7531\u5668\u7EC8\u7AEF\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u5373\u53EF\u5B8C\u6210\u5B89\u88C5\uFF1A")))]),a("Input",{ref:"cmd",staticStyle:{"margin-top":"6px"},attrs:{type:"textarea",readonly:"",value:t.formData.cmd},on:{"on-focus":t.clickCmd}})],1)],1)])]:t._e()],2),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1),a("CheckinExport",{model:{value:t.exportShow,callback:function(e){t.exportShow=e},expression:"exportShow"}}),a("DrawerOverlay",{attrs:{placement:"right",size:1380},model:{value:t.allUserShow,callback:function(e){t.allUserShow=e},expression:"allUserShow"}},[t.allUserShow?a("TeamManagement",{attrs:{"checkin-mac":""}}):t._e()],1)],1)},st=[];const ot={name:"SystemCheckin",components:{CheckinExport:h,TeamManagement:D,DrawerOverlay:$},data(){return{loadIng:0,formData:{open:"",edit:"",cmd:""},ruleData:{},allUserShow:!1,exportShow:!1}},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formData.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formData=$A.cloneJSON(this.formDatum_bak)},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting/checkin?type="+(t?"save":"all"),data:this.formData}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formData=s,this.formDatum_bak=$A.cloneJSON(this.formData)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})},clickCmd(){this.$nextTick(t=>{this.$refs.cmd.focus({cursor:"all"})})}}},p={};var rt=r(ot,et,st,!1,lt,null,null,null);function lt(t){for(let s in p)this[s]=p[s]}var it=function(){return rt.exports}(),nt=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-component-item"},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleData,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"block-setting-box"},[a("h3",[t._v(t._s(t.$L("LDAP")))]),a("div",{staticClass:"form-box"},[a("FormItem",{attrs:{label:t.$L("\u542F\u7528 LDAP \u8BA4\u8BC1"),prop:"ldap_open"}},[a("RadioGroup",{model:{value:t.formData.ldap_open,callback:function(e){t.$set(t.formData,"ldap_open",e)},expression:"formData.ldap_open"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5F00\u542F\u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 LDAP \u5E10\u53F7\u5BC6\u7801\u767B\u5F55")))])],1),t.formData.ldap_open==="open"?[a("FormItem",{attrs:{label:t.$L("LDAP \u5730\u5740"),prop:"ldap_host"}},[a("Input",{model:{value:t.formData.ldap_host,callback:function(e){t.$set(t.formData,"ldap_host",e)},expression:"formData.ldap_host"}}),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u4F8B\u5982"))+": 192.168.1.200\u3001www.ldap.com")])],1),a("FormItem",{attrs:{label:t.$L("LDAP \u7AEF\u53E3"),prop:"ldap_port"}},[a("Input",{attrs:{type:"number",placeholder:`${t.$L("\u9ED8\u8BA4")}: 389`},model:{value:t.formData.ldap_port,callback:function(e){t.$set(t.formData,"ldap_port",e)},expression:"formData.ldap_port"}})],1),a("FormItem",{attrs:{label:"Base DN",prop:"ldap_base_dn"}},[a("Input",{model:{value:t.formData.ldap_base_dn,callback:function(e){t.$set(t.formData,"ldap_base_dn",e)},expression:"formData.ldap_base_dn"}})],1),a("FormItem",{attrs:{label:"User DN",prop:"ldap_user_dn"}},[a("Input",{model:{value:t.formData.ldap_user_dn,callback:function(e){t.$set(t.formData,"ldap_user_dn",e)},expression:"formData.ldap_user_dn"}})],1),a("FormItem",{attrs:{label:t.$L("\u5BC6\u7801"),prop:"ldap_password"}},[a("Input",{attrs:{type:"password"},model:{value:t.formData.ldap_password,callback:function(e){t.$set(t.formData,"ldap_password",e)},expression:"formData.ldap_password"}})],1),a("FormItem",{attrs:{label:t.$L("\u540C\u6B65\u672C\u5730\u5E10\u53F7"),prop:"ldap_sync_local"}},[a("RadioGroup",{model:{value:t.formData.ldap_sync_local,callback:function(e){t.$set(t.formData,"ldap_sync_local",e)},expression:"formData.ldap_sync_local"}},[a("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("\u5F00\u542F")))]),a("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("\u5173\u95ED")))])],1),a("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("\u5F00\u542F\u540C\u6B65\u672C\u5730\u5E10\u53F7\u767B\u5F55\u540E\u5C06\u540C\u6B65\u5230 LDAP \u670D\u52A1\u5668")))])],1),a("FormItem",[a("Button",{attrs:{loading:t.testLoad},on:{click:t.checkTest}},[t._v(t._s(t.$L("\u6D4B\u8BD5\u94FE\u63A5")))])],1)]:t._e()],2)])]),a("div",{staticClass:"setting-footer"},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},mt=[];const ct={name:"SystemThirdAccess",data(){return{loadIng:0,formData:{},ruleData:{},testLoad:!1}},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formData.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formData=$A.cloneJSON(this.formDatum_bak)},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting/thirdaccess?type="+(t?"save":"all"),data:this.formData}).then(({data:s})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formData=s,this.formDatum_bak=$A.cloneJSON(this.formData)}).catch(({msg:s})=>{t&&$A.modalError(s)}).finally(s=>{this.loadIng--})},checkTest(){this.testLoad||(this.testLoad=!0,this.$store.dispatch("call",{url:"system/setting/thirdaccess?type=testldap",data:this.formData}).then(({msg:t})=>{$A.messageSuccess(t)}).catch(({msg:t})=>{$A.modalError(t)}).finally(t=>{this.testLoad=!1}))}}},d={};var ut=r(ct,nt,mt,!1,_t,null,null,null);function _t(t){for(let s in d)this[s]=d[s]}var pt=function(){return ut.exports}(),dt=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"setting-item submit"},[a("Tabs",{model:{value:t.tabAction,callback:function(e){t.tabAction=e},expression:"tabAction"}},[a("TabPane",{attrs:{label:t.$L("\u7CFB\u7EDF\u8BBE\u7F6E"),name:"setting"}},[a("SystemSetting")],1),a("TabPane",{attrs:{label:t.$L("\u4EFB\u52A1\u4F18\u5148\u7EA7"),name:"taskPriority"}},[a("SystemTaskPriority")],1),a("TabPane",{attrs:{label:t.$L("\u9879\u76EE\u6A21\u677F"),name:"columnTemplate"}},[a("SystemColumnTemplate")],1),a("TabPane",{attrs:{label:t.$L("\u4F1A\u8BAE\u529F\u80FD"),name:"meeting"}},[a("SystemMeeting")],1),a("TabPane",{attrs:{label:t.$L("\u7B7E\u5230\u529F\u80FD"),name:"checkin"}},[a("SystemCheckin")],1),a("TabPane",{attrs:{label:t.$L("\u90AE\u4EF6\u8BBE\u7F6E"),name:"emailSetting"}},[a("SystemEmailSetting")],1),a("TabPane",{attrs:{label:t.$L("\u8BA4\u8BC1\u8BBE\u7F6E"),name:"thirdAccess"}},[a("SystemThirdAccess")],1),t.$A.isDooServer()?a("TabPane",{attrs:{label:t.$L("APP\u63A8\u9001"),name:"appPush"}},[a("SystemAppPush")],1):t._e()],1)],1)},ft=[];const vt={components:{SystemThirdAccess:pt,SystemCheckin:it,SystemMeeting:at,SystemAppPush:Q,SystemColumnTemplate:N,SystemTaskPriority:A,SystemSetting:k,SystemEmailSetting:U},data(){return{tabAction:"setting"}}},f={};var $t=r(vt,dt,ft,!1,ht,null,null,null);function ht(t){for(let s in f)this[s]=f[s]}var yt=function(){return $t.exports}();export{yt as default};
