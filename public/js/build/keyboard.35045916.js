import{n as r}from"./app.af42c865.js";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"setting-item submit"},[e("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleData,"label-width":"auto"},nativeOn:{submit:function(a){a.preventDefault()}}},[e("FormItem",{attrs:{label:t.$L("\u622A\u56FE\u5FEB\u6377\u952E"),prop:"screenshot"}},[e("div",{staticClass:"input-box"},[e("Checkbox",{model:{value:t.formData.screenshot_mate,callback:function(a){t.$set(t.formData,"screenshot_mate",a)},expression:"formData.screenshot_mate"}},[t._v(t._s(t.mateName))]),e("div",{staticClass:"input-box-push"},[t._v("+")]),e("Checkbox",{model:{value:t.formData.screenshot_shift,callback:function(a){t.$set(t.formData,"screenshot_shift",a)},expression:"formData.screenshot_shift"}},[t._v("Shift")]),e("div",{staticClass:"input-box-push"},[t._v("+")]),e("Input",{staticClass:"input-box-key",attrs:{disabled:t.screenshotDisabled,value:t.formData.screenshot_key,maxlength:1},on:{"on-keydown":t.onKeydown}})],1),t.screenshotDisabled?e("div",{staticClass:"form-tip red"},[t._v(t._s(t.$L("\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u529F\u80FD\u952E\uFF01")))]):t._e()])],1),e("div",{staticClass:"setting-footer"},[e("Button",{attrs:{loading:t.loadIng>0,disabled:t.screenshotDisabled,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u4FDD\u5B58")))]),e("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},i=[];const c={data(){return{loadIng:0,mateName:/macintosh|mac os x/i.test(navigator.userAgent)?"Command":"Ctrl",formData:{screenshot_mate:!0,screenshot_shift:!0,screenshot_key:""},ruleData:{}}},mounted(){this.initData()},computed:{screenshotDisabled(){return!this.formData.screenshot_mate&&!this.formData.screenshot_shift}},methods:{initData(){this.formData=Object.assign({screenshot_mate:!0,screenshot_shift:!0,screenshot_key:""},$A.jsonParse(window.localStorage.getItem("__keyboard:data__"))||{}),this.formData_bak=$A.cloneJSON(this.formData)},onKeydown({key:t,keyCode:s}){s!==8&&(t=/^[A-Za-z0-9]?$/.test(t)?t.toUpperCase():"",t&&(this.formData.screenshot_key=t))},submitForm(){this.$refs.formData.validate(t=>{t&&(window.localStorage.setItem("__keyboard:data__",$A.jsonStringify(this.formData)),$A.bindScreenshotKey(this.formData),$A.messageSuccess("\u4FDD\u5B58\u6210\u529F"))})},resetForm(){this.formData=$A.cloneJSON(this.formData_bak)}}},o={};var m=r(c,n,i,!1,_,"2cfe89b0",null,null);function _(t){for(let s in o)this[s]=o[s]}var h=function(){return m.exports}();export{h as default};
